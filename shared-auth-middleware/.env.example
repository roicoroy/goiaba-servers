# Shared Auth Middleware Environment Configuration

# JWT Configuration (CRITICAL: Must match your existing services)
JWT_SECRET=bnXXqww2fy/GOmHij32EX8D9LaqSPYVCtpZ5QQRI6GaI4QPcfuDHnSzqKGpUr+M+2kQ41wo9ZrJxfXMbBJLhiA==
TOKEN_EXPIRY=24h

# External Service URLs
# Adjust these to point to your existing Medusa and Strapi services
MEDUSA_URL=http://localhost:9000
STRAPI_URL=http://localhost:1337

# For Docker Desktop on Mac/Windows, use host.docker.internal
# MEDUSA_URL=http://host.docker.internal:9000
# STRAPI_URL=http://host.docker.internal:1337

# For Docker on Linux, use the host IP
# MEDUSA_URL=http://172.17.0.1:9000
# STRAPI_URL=http://172.17.0.1:1337

# Server Configuration
PORT=3000
NODE_ENV=production
LOG_LEVEL=info

# Docker Configuration
SHARED_AUTH_PORT=3000
NGINX_PORT=8080

# Optional: Database connection for advanced user validation
DATABASE_URL=

# Optional: Redis for caching (if needed)
REDIS_URL=

# CORS Configuration
CORS_ORIGIN=*
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Authorization,Content-Type

# Rate Limiting (requests per minute)
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=60000

# Security
HELMET_ENABLED=true
TRUST_PROXY=false